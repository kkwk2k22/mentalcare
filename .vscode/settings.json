{
    "liveServer.settings.port": 5501
}











# 🧠 **ПОЛНОЕ РАЗОБРАНИЕ ПРОЕКТА MENTALCARE: КАЖДЫЙ ФАЙЛ, КАЖДАЯ ПАПКА, КАЖДАЯ СВЯЗЬ**

## 📁 **СТРУКТУРА ПРОЕКТА - ПОЛНАЯ КАРТА**

```
MENTALCARE/
├── 📁 backend/                     # Серверная часть (мозг проекта)
│   ├── 📁 src/                    # Исходный код сервера
│   │   ├── 📁 config/             # Настройки и конфигурация
│   │   │   └── 🗎 database.js     ← ПОДКЛЮЧЕНИЕ К БАЗЕ ДАННЫХ
│   │   ├── 📁 controllers/        # Обработчики запросов (логика)
│   │   │   ├── 🗎 authController.js     ← РЕГИСТРАЦИЯ/ВХОД
│   │   │   ├── 🗎 articleController.js  ← СТАТЬИ
│   │   │   ├── 🗎 testController.js     ← ТЕСТЫ НА СТРЕСС
│   │   │   ├── 🗎 profileController.js  ← ПРОФИЛЬ
│   │   │   └── 🗎 musicController.js    ← МУЗЫКА
│   │   ├── 📁 middleware/         # Промежуточное ПО (проверки)
│   │   │   └── 🗎 authMiddleware.js     ← ПРОВЕРКА ТОКЕНОВ
│   │   ├── 📁 models/             # Модели данных (шаблоны таблиц)
│   │   │   ├── 🗎 User.js         ← МОДЕЛЬ ПОЛЬЗОВАТЕЛЯ
│   │   │   ├── 🗎 Article.js      ← МОДЕЛЬ СТАТЬИ
│   │   │   ├── 🗎 TestResult.js   ← МОДЕЛЬ РЕЗУЛЬТАТОВ ТЕСТА
│   │   │   └── 🗎 Comment.js      ← МОДЕЛЬ КОММЕНТАРИЯ
│   │   ├── 📁 routes/             # Маршруты (пути API)
│   │   │   ├── 🗎 authRoutes.js   ← ПУТИ ДЛЯ АВТОРИЗАЦИИ
│   │   │   ├── 🗎 articleRoutes.js ← ПУТИ ДЛЯ СТАТЕЙ
│   │   │   ├── 🗎 testRoutes.js   ← ПУТИ ДЛЯ ТЕСТОВ
│   │   │   ├── 🗎 profileRoutes.js ← ПУТИ ДЛЯ ПРОФИЛЯ
│   │   │   └── 🗎 musicRoutes.js  ← ПУТИ ДЛЯ МУЗЫКИ
│   │   ├── 📁 utils/              # Вспомогательные функции
│   │   │   └── 🗎 helpers.js      ← ФОРМАТИРОВАНИЕ ДАТ и др.
│   │   └── 🗎 server.js           ← ГЛАВНЫЙ СЕРВЕРНЫЙ ФАЙЛ
│   ├── 🗎 package.json            ← ЗАВИСИМОСТИ NODE.JS
│   └── 🗎 .env                    ← СЕКРЕТНЫЕ ПЕРЕМЕННЫЕ
│
├── 📁 frontend/                   # Клиентская часть (лицо проекта)
│   ├── 🗎 index.html              ← ГЛАВНАЯ СТРАНИЦА (Dashboard)
│   ├── 🗎 login.html              ← СТРАНИЦА ВХОДА
│   ├── 🗎 register.html           ← СТРАНИЦА РЕГИСТРАЦИИ
│   ├── 🗎 articles.html           ← СПИСОК СТАТЕЙ
│   ├── 🗎 article.html            ← ОТДЕЛЬНАЯ СТАТЬЯ
│   ├── 🗎 test.html               ← СТРАНИЦА ТЕСТА НА СТРЕСС
│   ├── 🗎 music.html              ← МУЗЫКАЛЬНАЯ СТРАНИЦА
│   ├── 🗎 profile.html            ← ПРОФИЛЬ ПОЛЬЗОВАТЕЛЯ
│   ├── 🗎 about.html              ← О ПРОЕКТЕ
│   ├── 📁 css/                    # Стили (внешний вид)
│   │   └── 🗎 style.css           ← ОСНОВНЫЕ СТИЛИ (9000+ строк!)
│   ├── 📁 js/                     # JavaScript (логика на клиенте)
│   │   ├── 🗎 auth.js             ← АВТОРИЗАЦИЯ НА КЛИЕНТЕ
│   │   ├── 🗎 dashboard.js        ← ЛОГИКА ГЛАВНОЙ СТРАНИЦЫ
│   │   ├── 🗎 articles.js         ← РАБОТА СО СТАТЬЯМИ
│   │   ├── 🗎 article.js          ← ЧТЕНИЕ СТАТЬИ
│   │   ├── 🗎 test.js             ← ТЕСТИРОВАНИЕ
│   │   ├── 🗎 music.js            ← МУЗЫКАЛЬНЫЙ ПЛЕЕР
│   │   └── 🗎 profile.js          ← ПРОФИЛЬ И ГРАФИКИ
│   └── 📁 assets/                 # Изображения, иконки
│       └── 📁 images/             ← КАРТИНКИ ПРОЕКТА
│
└── 📁 database/                   # База данных (хранилище)
    └── 🗎 init.sql                ← SQL-СКРИПТ СОЗДАНИЯ БАЗЫ
```

---

## 🔗 **КАК ВСЕ ЭТО РАБОТАЕТ ВМЕСТЕ: ПОЛНАЯ ЦЕПОЧКА**

### **1. ЦЕПОЧКА РЕГИСТРАЦИИ ПОЛЬЗОВАТЕЛЯ:**

```
┌─────────────────────────────────────────────────────────┐
│                    ПОЛЬЗОВАТЕЛЬ                         │
│        Вводит данные на register.html                   │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│             frontend/js/auth.js                         │
│ 1. Проверяет email/пароль                               │
│ 2. Отправляет POST /api/auth/register                   │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│             backend/src/routes/authRoutes.js            │
│ 1. Принимает запрос по пути /register                   │
│ 2. Передает в authController.register()                 │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│         backend/src/controllers/authController.js       │
│ 1. Проверяет, существует ли пользователь                │
│ 2. Хэширует пароль (bcrypt)                             │
│ 3. Сохраняет в БД через User.create()                   │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│           backend/src/models/User.js                    │
│ 1. Выполняет SQL запрос:                                │
│    INSERT INTO users (...) VALUES (...)                 │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│           backend/src/config/database.js                │
│ 1. Подключается к PostgreSQL                            │
│ 2. Выполняет запрос через pool.query()                  │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│                PostgreSQL База Данных                   │
│ 1. Создает запись в таблице users                       │
│ 2. Возвращает ID нового пользователя                    │
└───────────────────────────┬─────────────────────────────┘
                            ▼
←←←←← ОТВЕТ ИДЕТ ОБРАТНО ПО ЦЕПОЧКЕ ←←←←←←
┌─────────────────────────────────────────────────────────┐
│                ПОЛЬЗОВАТЕЛЬ                             │
│  Получает сообщение "Регистрация успешна!"              │
│  Автоматически входит в систему                         │
└─────────────────────────────────────────────────────────┘
```

---

## 🗃️ **ПОДРОБНО О КАЖДОЙ ПАПКЕ И ФАЙЛЕ**

### **📁 BACKEND/ - СЕРВЕРНАЯ ЧАСТЬ (МОЗГ ПРОЕКТА)**

#### **🗎 backend/src/config/database.js**
```
ЧТО ДЕЛАЕТ: Подключается к PostgreSQL
ЗАЧЕМ НУЖЕН: Без него сервер не может общаться с базой данных
СВЯЗАН С: Все модели (User.js, Article.js и т.д.)
КОМУ ОТВЕЧАЕТ: Всем, кто хочет работать с БД
КЛЮЧЕВОЙ КОД:
const pool = new Pool({
  host: process.env.DB_HOST,    // localhost
  port: process.env.DB_PORT,    // 5432
  database: process.env.DB_NAME, // mentalcare_db
  user: process.env.DB_USER,    // postgres
  password: process.env.DB_PASSWORD
});
```

#### **📁 backend/src/controllers/ - ОБРАБОТЧИКИ ЗАПРОСОВ**
```
ЭТО: Бизнес-логика приложения
АНАЛОГИЯ: Повара на кухне (готовят данные)

1. 🗎 authController.js
   ОТВЕЧАЕТ ЗА: Вход, регистрация, профиль
   ФУНКЦИИ:
   - register() - создает пользователя
   - login() - авторизует пользователя
   - getProfile() - возвращает данные профиля
   - updateTheme() - меняет тему (светлая/темная)

2. 🗎 articleController.js
   ОТВЕЧАЕТ ЗА: Статьи, комментарии, избранное
   ФУНКЦИИ:
   - getArticles() - все статьи
   - getArticle(id) - конкретная статья
   - addComment() - добавляет комментарий
   - toggleFavorite() - в избранное/из избранного

3. 🗎 testController.js
   ОТВЕЧАЕТ ЗА: Тесты на стресс
   ФУНКЦИИ:
   - submitTest() - обрабатывает ответы теста
   - getTestHistory() - история тестов пользователя
   - getDailyTip() - случайный совет дня
   - calculateStressLevel() - определяет уровень стресса

4. 🗎 profileController.js
   ОТВЕЧАЕТ ЗА: Профиль пользователя
   ФУНКЦИИ:
   - getProfileData() - собирает все данные профиля
   - (историю тестов, избранное, статистику)

5. 🗎 musicController.js
   ОТВЕЧАЕТ ЗА: Музыкальные треки
   ФУНКЦИИ:
   - getMusicTracks() - все музыкальные треки
   - getMusicByCategory() - музыка по категориям
```

#### **📁 backend/src/middleware/ - ПРОВЕРКИ ДОСТУПА**
```
🗎 authMiddleware.js
ЧТО ДЕЛАЕТ: Проверяет JWT токен
ЗАЧЕМ НУЖЕН: Защищает маршруты (только для авторизованных)
КАК РАБОТАЕТ:
1. Берет токен из заголовка Authorization
2. Проверяет его подлинность
3. Если валиден → пропускает дальше
4. Если нет → возвращает ошибку 401
ИСПОЛЬЗУЕТСЯ В: Маршрутах, требующих авторизации
```

#### **📁 backend/src/models/ - МОДЕЛИ ДАННЫХ**
```
ЭТО: Шаблоны для работы с таблицами БД
АНАЛОГИЯ: Формы для печенья (определяют структуру)

1. 🗎 User.js
   СООТВЕТСТВУЕТ ТАБЛИЦЕ: users
   МЕТОДЫ:
   - create() - создает пользователя
   - findByEmail() - ищет по email
   - findById() - ищет по ID
   - comparePassword() - проверяет пароль

2. 🗎 Article.js
   СООТВЕТСТВУЕТ ТАБЛИЦЕ: articles
   МЕТОДЫ:
   - findAll() - все статьи
   - findById() - статья по ID
   - findByCategory() - статьи по категории

3. 🗎 TestResult.js
   СООТВЕТСТВУЕТ ТАБЛИЦЕ: stress_tests
   МЕТОДЫ:
   - create() - сохраняет результат теста
   - findByUser() - история тестов пользователя
   - getLatest() - последний тест

4. 🗎 Comment.js
   СООТВЕТСТВУЕТ ТАБЛИЦЕ: comments
   МЕТОДЫ:
   - create() - добавляет комментарий
   - findByArticle() - комментарии к статье
```

#### **📁 backend/src/routes/ - МАРШРУТЫ API**
```
ЭТО: Пути, по которым можно обращаться к API
АНАЛОГИЯ: Дорожные указатели (куда идти)

1. 🗎 authRoutes.js
   ПУТИ:
   - POST /register   → authController.register
   - POST /login      → authController.login
   - GET /profile     → authController.getProfile (через middleware!)
   - PUT /theme       → authController.updateTheme (через middleware!)

2. 🗎 articleRoutes.js
   ПУТИ:
   - GET /            → articleController.getArticles
   - GET /:id         → articleController.getArticle
   - GET /categories  → articleController.getCategories
   - POST /:id/comments → articleController.addComment (защищено!)
   - POST /:id/favorite → articleController.toggleFavorite (защищено!)
   - GET /user/favorites → articleController.getFavorites (защищено!)

3. 🗎 testRoutes.js
   ПУТИ:
   - POST /submit     → testController.submitTest (защищено!)
   - GET /history     → testController.getTestHistory (защищено!)
   - GET /latest      → testController.getLatest (защищено!)
   - GET /daily-tip   → testController.getDailyTip

4. 🗎 profileRoutes.js
   ПУТИ:
   - GET /           → profileController.getProfileData (защищено!)

5. 🗎 musicRoutes.js
   ПУТИ:
   - GET /           → musicController.getMusicTracks
   - GET /category/:category → musicController.getMusicByCategory
   - GET /categories  → musicController.getMusicCategories
```

#### **🗎 backend/src/server.js - ГЛАВНЫЙ ФАЙЛ СЕРВЕРА**
```
ЧТО ДЕЛАЕТ: Запускает сервер, настраивает маршруты
КЛЮЧЕВЫЕ ЧАСТИ:
1. Импортирует Express и middleware
2. Подключает маршруты
3. Настраивает обработку ошибок
4. Запускает сервер на порту 5000
СВЯЗИ: Импортирует ВСЕ маршруты и контроллеры
```

---

### **📁 FRONTEND/ - КЛИЕНТСКАЯ ЧАСТЬ (ЛИЦО ПРОЕКТА)**

#### **📁 frontend/*.html - HTML СТРАНИЦЫ**
```
1. 🗎 index.html - ГЛАВНАЯ СТРАНИЦА
   СОДЕРЖИТ: Dashboard, Pomodoro таймер, советы дня
   СВЯЗАН С: dashboard.js, auth.js

2. 🗎 login.html / register.html - АВТОРИЗАЦИЯ
   СОДЕРЖАТ: Формы входа и регистрации
   СВЯЗАНЫ С: auth.js

3. 🗎 articles.html - СПИСОК СТАТЕЙ
   СОДЕРЖИТ: Сетку статей, фильтры, поиск
   СВЯЗАН С: articles.js

4. 🗎 article.html - ОТДЕЛЬНАЯ СТАТЬЯ
   СОДЕРЖИТ: Полный текст статьи, комментарии
   СВЯЗАН С: article.js

5. 🗎 test.html - ТЕСТ НА СТРЕСС
   СОДЕРЖИТ: 7 вопросов, результат, рекомендации
   СВЯЗАН С: test.js

6. 🗎 music.html - МУЗЫКА
   СОДЕРЖИТ: Плеер YouTube, треки по категориям, таймер
   СВЯЗАН С: music.js

7. 🗎 profile.html - ПРОФИЛЬ
   СОДЕРЖИТ: Данные пользователя, история тестов, ГРАФИК
   СВЯЗАН С: profile.js, Chart.js
   ВАЖНО: <canvas id="stressChart"> для диаграммы!

8. 🗎 about.html - О ПРОЕКТЕ
   СОДЕРЖИТ: Информацию о проекте, команде, миссии
```

#### **🗎 frontend/css/style.css - ВСЕ СТИЛИ**
```
РАЗМЕР: 9000+ строк CSS
ЧТО СОДЕРЖИТ:
1. CSS переменные для тем (:root, [data-theme="dark"])
2. Стили для ВСЕХ компонентов
3. Адаптивный дизайн (медиа-запросы)
4. Анимации и переходы
5. Стили для темной/светлой темы
ОТВЕЧАЕТ ЗА: Внешний вид ВСЕГО сайта
```

#### **📁 frontend/js/ - JAVASCRIPT ЛОГИКА**
```
АНАЛОГИЯ: Мозг на клиентской стороне

1. 🗎 auth.js - АВТОРИЗАЦИЯ НА КЛИЕНТЕ
   ОТВЕЧАЕТ ЗА:
   - Обработку форм login/register
   - Сохранение JWT токена в localStorage
   - Переключение темы (светлая/темная)
   - Обновление UI в зависимости от авторизации
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - initTheme() - загружает тему
   - toggleTheme() - меняет тему
   - updateAuthUI() - обновляет кнопки (Login/Logout)

2. 🗎 dashboard.js - ГЛАВНАЯ СТРАНИЦА
   ОТВЕЧАЕТ ЗА:
   - Pomodoro таймер (25/5 минут)
   - Загрузку ежедневных советов
   - Отображение последнего результата теста
   - Загрузку избранных статей
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - initPomodoroTimer() - запускает таймер
   - loadDailyTip() - загружает совет дня
   - loadTestResults() - показывает последний тест

3. 🗎 articles.js - РАБОТА СО СТАТЬЯМИ
   ОТВЕЧАЕТ ЗА:
   - Отображение сетки статей
   - Фильтрацию по категориям
   - Поиск по статьям
   - Добавление в избранное
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - loadArticles() - загружает статьи
   - displayArticles() - отображает статьи
   - filterArticles() - фильтрует по категории
   - toggleFavorite() - добавляет в избранное

4. 🗎 article.js - ЧТЕНИЕ СТАТЬИ
   ОТВЕЧАЕТ ЗА:
   - Загрузку полного текста статьи
   - Отображение комментариев
   - Добавление новых комментариев
   - Прогресс чтения (круглый индикатор)
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - loadArticle() - загружает статью по ID
   - displayArticle() - отображает статью
   - trackReadingProgress() - отслеживает прогресс

5. 🗎 test.js - ТЕСТ НА СТРЕСС
   ОТВЕЧАЕТ ЗА:
   - Отображение 7 вопросов
   - Подсчет баллов
   - Определение уровня стресса
   - Показ рекомендаций
   - Сохранение результатов
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - renderQuestion() - показывает вопрос
   - submitTest() - отправляет результаты
   - displayResults() - показывает результат

6. 🗎 music.js - МУЗЫКАЛЬНЫЙ ПЛЕЕР
   ОТВЕЧАЕТ ЗА:
   - Загрузку музыкальных треков
   - Встраивание YouTube плеера
   - Переключение между категориями (Focus/Relax/Sleep)
   - Study таймер (25/50/90 минут)
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - playTrack() - воспроизводит трек
   - switchCategoryTab() - переключает категории
   - initStudyTimer() - запускает таймер для учебы

7. 🗎 profile.js - ПРОФИЛЬ И ГРАФИКИ ⭐⭐⭐ ВАЖНО!
   ОТВЕЧАЕТ ЗА:
   - Загрузку данных пользователя
   - Отображение истории тестов (ТАБЛИЦА)
   - Создание графика прогресса (ГРАФИК) ← ЭТО ВАША ДИАГРАММА!
   - Экспорт данных пользователя
   КЛЮЧЕВЫЕ ФУНКЦИИ:
   - loadUserData() - загружает данные профиля
   - loadTestHistory() - загружает историю тестов
   - updateStressChart() ← САМАЯ ВАЖНАЯ! СОЗДАЕТ ГРАФИК
   - displayFavorites() - показывает избранные статьи
```

---

## 🔄 **КАК ВСЕ ВЗАИМОДЕЙСТВУЕТ: ПРИМЕРЫ**

### **Пример 1: Пользователь читает статью**

```
ШАГ 1: Пользователь нажимает "Read" на articles.html
       ↓
ШАГ 2: articles.js → saveArticleId(id) → localStorage
       ↓
ШАГ 3: Переход на article.html?id=1
       ↓
ШАГ 4: article.js → getArticleId() → берет ID из URL
       ↓
ШАГ 5: article.js → loadArticle(1)
       ↓
ШАГ 6: fetch('http://localhost:5000/api/articles/1')
       ↓
ШАГ 7: backend/routes/articleRoutes.js → GET /:id
       ↓
ШАГ 8: articleController.getArticle(1)
       ↓
ШАГ 9: Article.findById(1) → SQL запрос к БД
       ↓
ШАГ 10: PostgreSQL → возвращает данные статьи
       ↓
ШАГ 11: Ответ идет обратно → статья отображается
```

### **Пример 2: Пользователь проходит тест**

```
ШАГ 1: test.html → 7 вопросов
       ↓
ШАГ 2: Пользователь отвечает → answers = [3,4,2,5,1,4,2]
       ↓
ШАГ 3: test.js → submitTest(answers)
       ↓
ШАГ 4: fetch('http://localhost:5000/api/tests/submit', {answers})
       ↓
ШАГ 5: backend/routes/testRoutes.js → POST /submit
       ↓
ШАГ 6: testController.submitTest()
       ↓
ШАГ 7: Проверка авторизации (JWT токен)
       ↓
ШАГ 8: calculateStressLevel(answers) → "Medium stress"
       ↓
ШАГ 9: TestResult.create() → сохраняет в БД
       ↓
ШАГ 10: Ответ с результатом → test.js показывает результат
```

---

## 🗺️ **СХЕМА СВЯЗЕЙ МЕЖДУ ФАЙЛАМИ**

### **СВЯЗИ ДЛЯ ДИАГРАММЫ (ГРАФИКА):**

```
ФАЙЛЫ, ОТВЕЧАЮЩИЕ ЗА ДИАГРАММУ:

1. 🗎 frontend/profile.html        ← Содержит <canvas id="stressChart">
2. 🗎 frontend/js/profile.js       ← Функция updateStressChart()
3. 🗎 frontend/profile.html        ← Подключает Chart.js библиотеку
4. 🗎 backend/controllers/testController.js ← getTestHistory()
5. 🗎 backend/routes/testRoutes.js ← GET /history
6. 🗎 backend/models/TestResult.js ← findByUser()
7. 🗎 database/init.sql            ← Таблица stress_tests
```

### **ПОТОК ДАННЫХ ДЛЯ ГРАФИКА:**

```
┌─────────────────────────────────────────────────────────┐
│               Пользователь открывает profile.html       │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│           profile.js → initProfilePage()                │
│           1. Загружает данные пользователя              │
│           2. Загружает историю тестов                   │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│           profile.js → loadTestHistory()                │
│           fetch('http://localhost:5000/api/tests/history')│
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│       testRoutes.js → GET /history                      │
│       → testController.getTestHistory()                 │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│       TestResult.findByUser(userId)                     │
│       SELECT * FROM stress_tests WHERE user_id = ?      │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│           Данные тестов возвращаются                    │
│           [{score: 15, level: 'Medium', date: ...}, ...]│
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│           profile.js → updateStressChart(history)       │
│           1. Берет элемент <canvas id="stressChart">    │
│           2. Создает новый Chart.js объект              │
│           3. Рисует линейный график с данными           │
└───────────────────────────┬─────────────────────────────┘
                            ▼
┌─────────────────────────────────────────────────────────┐
│               График отображается на странице           │
└─────────────────────────────────────────────────────────┘
```

---

## 🔧 **ЕСЛИ ЧТО-ТО НЕ РАБОТАЕТ: ГДЕ ИСКАТЬ ПРОБЛЕМУ**

### **Проблема: Диаграмма не показывается**

```
1. Проверьте profile.html:
   ✓ Есть ли <canvas id="stressChart">
   ✓ Подключен ли Chart.js (<script src="...chart.js">)

2. Проверьте profile.js:
   ✓ Вызывается ли updateStressChart()
   ✓ Приходят ли данные (console.log(history))

3. Проверьте backend:
   ✓ Работает ли GET /api/tests/history
   ✓ Возвращает ли данные testController.getTestHistory()

4. Проверьте браузер:
   ✓ F12 → Console (есть ли ошибки)
   ✓ F12 → Network (виден ли запрос к /history)
```

### **Проблема: Статьи не загружаются**

```
1. Проверьте articles.js:
   ✓ Правильный ли API_BASE_URL
   ✓ Вызывается ли loadArticles()

2. Проверьте backend:
   ✓ Работает ли сервер (npm run dev)
   ✓ Работает ли GET /api/articles
   ✓ Есть ли данные в таблице articles

3. Проверьте БД:
   ✓ psql -U postgres -d mentalcare_db -c "SELECT * FROM articles;"
```

### **Проблема: Авторизация не работает**

```
1. Проверьте auth.js:
   ✓ Сохраняется ли токен в localStorage
   ✓ Правильный ли API_BASE_URL

2. Проверьте backend:
   ✓ Правильные ли JWT_SECRET в .env
   ✓ Работают ли POST /api/auth/register и /login

3. Проверьте таблицу users:
   ✓ psql -U postgres -d mentalcare_db -c "SELECT * FROM users;"
```

---

## 📊 **ТАБЛИЦА ОТВЕТСТВЕННОСТИ**

| Что делает | Frontend файл | Backend файл | База данных |
|------------|---------------|--------------|-------------|
| Регистрация | auth.js | authController.js | users |
| Вход в систему | auth.js | authController.js | users |
| Список статей | articles.js | articleController.js | articles |
| Чтение статьи | article.js | articleController.js | articles, comments |
| Тест на стресс | test.js | testController.js | stress_tests |
| Музыкальный плеер | music.js | musicController.js | music |
| Профиль пользователя | profile.js | profileController.js | users, stress_tests, favorites |
| **Диаграмма прогресса** | **profile.js** | **testController.js** | **stress_tests** |
| Комментарии | article.js | articleController.js | comments |
| Избранное | articles.js | articleController.js | favorites |
| Тема (светлая/темная) | auth.js | authController.js | users |
| Pomodoro таймер | dashboard.js | - | - |
| Study таймер | music.js | - | - |

---

## 🎯 **ВАЖНЕЙШИЕ ФАЙЛЫ ДЛЯ ВАС (КАМИЛА)**

1. **Для диаграммы:** `profile.js` → `updateStressChart()`
2. **Для отображения статей:** `articles.js` → `displayArticles()`
3. **Для чтения статьи:** `article.js` → `loadArticle()`
4. **Для теста:** `test.js` → `submitTest()`
5. **Для музыки:** `music.js` → `playTrack()`

**Главное помнить:** 
- **Frontend** = Что видит пользователь
- **Backend** = Что происходит на сервере  
- **База данных** = Где хранятся данные
- **JavaScript файлы** = Как всё это работает вместе

Теперь вы знаете **каждый файл, каждую папку и каждую связь** в проекте MentalCare! 🚀
